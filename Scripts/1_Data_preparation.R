# ////////////////////////////////////////////////////////////////////////////////////////////////
# Library load ----
# ////////////////////////////////////////////////////////////////////////////////////////////////

library(tidyverse)
library(haven)

# ////////////////////////////////////////////////////////////////////////////////////////////////
# Data load ----
# ////////////////////////////////////////////////////////////////////////////////////////////////

PEP <- read_sav("Data/Definitive_PEPs.sav")

# ////////////////////////////////////////////////////////////////////////////////////////////////
# Data Basics ----
# ////////////////////////////////////////////////////////////////////////////////////////////////

## Dimensiones del dataframe
n<- dim(PEP)[1] # Numero de individuos
p<- dim(PEP)[2] # Numero de variables

## Calculo de NA

tibble( 
  'Nombre_variable' = names(PEP),
  'Recuento_NA' = map_dbl(PEP, ~sum(is.na(.x))),
  'NA_ratio' = map_dbl(PEP, ~sum(is.na(.x))/n )) %>% 
  arrange(desc(NA_ratio)) %>%
  view()




